(window.webpackJsonp=window.webpackJsonp||[]).push([["minesweeper"],{"+MLx":function(e,t,i){var n=i("HAuM");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"2FCs":function(e,t,i){},"3lrY":function(e,t,i){"use strict";i.r(t);var n=i("oCYn"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"minesweeper"},[e.gameStatus!==e.GAME_STATUS_PLAYING?i("form",{on:{submit:e.formSubmit}},[e.errors.length?i("div",[e._m(0),e._v(" "),i("ul",e._l(e.errors,(function(t){return i("li",[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),i("label",{attrs:{for:"x-input"}},[e._v("X:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.x,expression:"x",modifiers:{number:!0}}],attrs:{type:"number",required:"required",id:"x-input"},domProps:{value:e.x},on:{input:function(t){t.target.composing||(e.x=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("label",{attrs:{for:"y-input"}},[e._v("Y:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.y,expression:"y",modifiers:{number:!0}}],attrs:{type:"number",required:"required",id:"y-input"},domProps:{value:e.y},on:{input:function(t){t.target.composing||(e.y=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("label",{attrs:{for:"bombsPercentage-input"}},[e._v("Bombs "+e._s(e.bombsPercentage)+"%:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bombsPercentage,expression:"bombsPercentage"}],attrs:{type:"range",min:"1",max:"100",required:"required",id:"bombsPercentage-input"},domProps:{value:e.bombsPercentage},on:{__r:function(t){e.bombsPercentage=t.target.value}}}),e._v(" "),i("input",{attrs:{type:"submit",value:"Generate"}})]):e._e(),e._v(" "),this.game.length?i("table",[i("tbody",e._l(e.y,(function(t){return i("tr",e._l(e.x,(function(n){return i("td",{class:{hidden:e.game[(t-1)*e.x+(n-1)].hidden},style:e.itemStyles(e.game[(t-1)*e.x+(n-1)]),on:{click:function(i){e.itemClick(e.game[(t-1)*e.x+(n-1)])},contextmenu:function(i){i.preventDefault(),e.itemRMBClick(e.game[(t-1)*e.x+(n-1)])}}},[e.game[(t-1)*e.x+(n-1)].hidden?i("i",{class:{"fa fa-flag":1===e.game[(t-1)*e.x+(n-1)].hiddenState,"fa fa-question":2===e.game[(t-1)*e.x+(n-1)].hiddenState}}):e.game[(t-1)*e.x+(n-1)].bomb?i("i",{staticClass:"fa fa-bomb"}):e.game[(t-1)*e.x+(n-1)].siblingBombs?i("span",[e._v(e._s(e.game[(t-1)*e.x+(n-1)].siblingBombs))]):e._e()])})),0)})),0)]):e._e()])};r._withStripped=!0;i("QWBl"),i("eoL8"),i("FZtP");function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=t,this.hidden=!0,this.bomb=!1,this.siblingBombs=0,this.hiddenState=0}var t,i,n;return t=e,(i=[{key:"upHiddenState",value:function(){this.hiddenState++,this.hiddenState>2&&(this.hiddenState=0)}},{key:"canClick",value:function(){return this.hidden&&1!==this.hiddenState}},{key:"canRMBClick",value:function(){return this.hidden}}])&&s(t.prototype,i),n&&s(t,n),e}(),a={name:"minesweeper",data:function(){return{GAME_STATUS_PLAYING:1,GAME_STATUS_NOT_PLAYING:2,GAME_STATUS_LOST:3,GAME_STATUS_WIN:4,gameStatus:2,game:[],bombIndexes:[],errors:[],x:20,y:20,bombsPercentage:20}},computed:{itemsCount:function(){return this.game.length}},methods:{formSubmit:function(e){return e.preventDefault(),this.errors=[],this.x&&this.y&&this.generateGame(),this.x||this.errors.push("Type X size"),this.y||this.errors.push("Type Y size"),!1},generateGame:function(){this.gameStatus=this.GAME_STATUS_PLAYING,this.initializeBoard()},initializeBoard:function(){this.game=[],this.bombIndexes=[];for(var e=0;e<this.x;e++)for(var t=0;t<this.y;t++)this.game.push(new o(e*this.x+t));for(var i=Math.floor(this.bombsPercentage*this.itemsCount/100);i>0;){var n=Math.floor(Math.random()*this.itemsCount);this.game[n].bomb||(this.bombIndexes.push(n),this.game[n].bomb=!0,i--)}for(var r=0;r<this.bombIndexes.length;r++){this.getSiblingsForIndex(this.bombIndexes[r]).forEach((function(e){e.bomb||e.siblingBombs++}))}},getSiblingsForIndex:function(e){var t=[],i=e,n=e%this.x>0,r=e%this.x<this.x-1;return(i-=1)>=0&&n&&t.push(this.game[i]),(i=e-this.x)>=0&&t.push(this.game[i]),(i-=1)>=0&&n&&t.push(this.game[i]),(i+=2)>=0&&r&&t.push(this.game[i]),(i=e+1)<this.itemsCount&&r&&t.push(this.game[i]),(i=e+this.x)<this.itemsCount&&t.push(this.game[i]),(i=e+this.x-1)<this.itemsCount&&n&&t.push(this.game[i]),(i=e+this.x+1)<this.itemsCount&&r&&t.push(this.game[i]),t},itemClick:function(e){this.gameStatus===this.GAME_STATUS_PLAYING&&e.canClick()&&(e.hidden=!1,e.bomb?this.exploded():0===e.siblingBombs&&(console.log(e),this.revealSiblings(e.index)))},itemRMBClick:function(e){this.gameStatus===this.GAME_STATUS_PLAYING&&e.canRMBClick()&&e.upHiddenState()},itemStyles:function(e){var t={};if(!e.hidden&&!e.bomb)switch(e.siblingBombs){case 1:t.color="blue";break;case 2:t.color="green";break;case 3:t.color="red";break;case 4:t.color="purple";break;case 5:t.color="black";break;case 6:t.color="maroon";break;case 7:t.color="gray";break;case 8:t.color="turquoise"}return this.gameStatus===this.GAME_STATUS_LOST&&e.bomb&&(t.backgroundColor="red"),t},exploded:function(){this.gameStatus=this.GAME_STATUS_LOST,this.game.forEach((function(e){e.hidden=!1}))},revealSiblings:function(e){for(var t=this.getSiblingsForIndex(e),i=0;i<t.length;i++)t[i].hidden&&(t[i].hidden=!1,0===t[i].siblingBombs&&this.revealSiblings(t[i].index))}}},u=(i("GC0A"),i("KHd+")),c=Object(u.a)(a,r,[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("b",[this._v("Please correct the following error(s):")])])}],!1,null,null,null);c.options.__file="assets/modules/minesweeper/minesweeper.vue";var l=c.exports;i("fxB9"),new n.a({el:"#app",template:"<div><minesweeper/></div>",components:{minesweeper:l}})},"6LWA":function(e,t,i){var n=i("xrYK");e.exports=Array.isArray||function(e){return"Array"==n(e)}},F8JR:function(e,t,i){"use strict";var n=i("tycR").forEach,r=i("swFL");e.exports=r("forEach")?function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},FZtP:function(e,t,i){var n=i("2oRo"),r=i("/byt"),s=i("F8JR"),o=i("X2U+");for(var a in r){var u=n[a],c=u&&u.prototype;if(c&&c.forEach!==s)try{o(c,"forEach",s)}catch(e){c.forEach=s}}},GC0A:function(e,t,i){"use strict";var n=i("2FCs");i.n(n).a},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},QWBl:function(e,t,i){"use strict";var n=i("I+eb"),r=i("F8JR");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},ZfDv:function(e,t,i){var n=i("hh1v"),r=i("6LWA"),s=i("tiKp")("species");e.exports=function(e,t){var i;return r(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!r(i.prototype)?n(i)&&null===(i=i[s])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},eoL8:function(e,t,i){var n=i("I+eb"),r=i("g6v/");n({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:i("m/L8").f})},ewvW:function(e,t,i){var n=i("HYAF");e.exports=function(e){return Object(n(e))}},swFL:function(e,t,i){"use strict";var n=i("0Dky");e.exports=function(e,t){var i=[][e];return!i||!n((function(){i.call(null,t||function(){throw 1},1)}))}},tycR:function(e,t,i){var n=i("+MLx"),r=i("RK3t"),s=i("ewvW"),o=i("UMSQ"),a=i("ZfDv"),u=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,l=4==e,h=6==e,m=5==e||h;return function(f,d,b,p){for(var g,v,S=s(f),x=r(S),_=n(d,b,3),y=o(x.length),L=0,A=p||a,T=t?A(f,y):i?A(f,0):void 0;y>L;L++)if((m||L in x)&&(v=_(g=x[L],L,S),e))if(t)T[L]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return L;case 2:u.call(T,g)}else if(l)return!1;return h?-1:c||l?l:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}}},[["3lrY","runtime",0,1]]]);